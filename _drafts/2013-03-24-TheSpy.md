---
layout: post
title: The Spy 
---

# The Spy Challenge 
* * * 

## Introduction: 

The hackfortress challenge was part of the Schmoocon challenge a few years ago and while I attempted 
them at the time I never fully documented them or completed all of them. So in the next few posts I 
will explain how to complete each of the challenges. The first of the challenges is the spy challenge.

## Getting Started

I will try to complete all the challenges using a unix OS. As such for the most part , most of the tools
that will be used will be command line tools.

Grabbing the challenges :

Run the following code to checkout the code to a local folder and build the binary.

	git clone git://github.com/peasleer/hackfortress.git
	cd spy
	make
	
Note : While the C code is available , this is a reversing challenge so dont look at the code till
you have attempted to finish the challenge.

At this point we can run the binary we will spit out the following message.

	[ H A C K | F O R T R E S S ]
	We've intercepted a secret message, but can't decrypt it. 
	If you provide us with the right key, we'll help your team!

This is the same information that is provided in the README file which doesnt give us much 
more information. The Readme on the other hand further explains that we need to provide
a md5 hash of the message to complete the challenge.

Next its always good to get a dump of all the strings that are in use in the binary. This
will allow us to spot patterns and possibly locations that need to be investigated before
we even get to debugging the binary. To get a dump of all the strings in a binary run the
following command

	strings spy > spyStrings.txt

Aside from extracting the strings this also saves the strings to a file for future reference.

Next before jumping into debugging the binary its good to a listing of the application to 
read through. This will give us a roadmap on how the binary should work before we start
debugging the application. To get a disassembly listing of the binary run the follwing 
command.

	objdump -D spy >spyDump.txt



Summary of tools used :
	git
	gdb
	objdump
	make
